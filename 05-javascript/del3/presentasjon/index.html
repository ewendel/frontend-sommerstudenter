<!DOCTYPE html>
<html>
  <head>
    <title>Lynkurs i webutvikling</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <script src="https://github.com/downloads/gnab/remark/remark-0.3.4.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script src="https://github.com/downloads/kjbekkelund/remark-bekk/bekk-0.0.3.js" type="text/javascript"></script>
    <link href="https://github.com/downloads/kjbekkelund/remark-bekk/bekk-0.0.3.css" type="text/css" rel="stylesheet">

    <link href='http://fonts.googleapis.com/css?family=Snowburst+One' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Griffy' rel='stylesheet' type='text/css'>

    <style type="text/css" media="screen">
        .table-center {
            margin: 0 auto;
        }
        .fullimage {
            padding: 0 !important;
        }
        .fullimage p {
            margin: 0;
        }

        .fullimage img {
            max-width: 100%;
            max-height: 100%;
        }

    </style>
    <script type="text/javascript">
    
        $(document).on("click", "#setTimeoutAlert", function(event) {

            setTimeout(function() {
                alert("Wakie Wakie! Hands of snakey!")
            }, 2000);
        });

    
        var timeoutID;
        $(document).on("click", "#demo2setTimeoutAlert", function(event) {

            timeoutID = setTimeout(function() {
                alert("2sec!")
            }, 2000);
        });

        $(document).on("click", "#demo2clearTimeoutAlert", function(event) {
            clearTimeout(timeoutID);
        });
    </script>


  </head>
  <body>
    <textarea id="source">

.agenda

# Avansert js

* jQuery-triks
* Eventer
* timing

---


.middle.center

![I know jquery](img/iknowjquery.jpg)

---

.middle.center
# html attributes

 .attr() .val() .data() .prop() 


![Bomb defusar](img/bombdefusar2.jpg)

---

# html attributes

.html
    <input type="checkbox" value="first" name="choice" data-namespace="dance" checked />

---

# html attributes

.html
    <input type="checkbox" value="first" name="choice" data-namespace="dance" checked />
    
## .attr()

Returnerer/setter innholdet i attributten


.js
    $input.attr("type")             // returnerer "checkbox"
    $input.attr("type", "radio")    // setter type til "radio"

---

# html attributes

.html
    <input type="checkbox" value="first" name="choice" data-namespace="dance" checked />
    
## .val()

Returnerer/setter verdien


.js
    $input.val()                // returnerer "checkbox"
    $input.val("bestoption")    // setter verdien til "bestoption"

---

# html attributes

.html
    <input type="checkbox" value="first" name="choice" data-namespace="dance" checked />
    
## .data()

Returnerer/setter data attributt verdien


.js
    $input.data("namespace")                // returnerer "dance"
    $input.data("namespace", "letsdance")   // setter verdien til "letsdance"

---

# html attributes

.html
    <input type="checkbox" value="first" name="choice" data-namespace="dance" checked />
    
## .prop()

Returnerer/setter boolske verdier


.js
    $input.prop("checked")          // true
    $input.prop("checked", true)    // setter "checked" attributten
    $input.prop("checked", false)   // fjærner "checked" attributten

---

.middle.center

# Event propagering

---

# Event propagering


.js
    .on( events [, selector ] [, data ], handler(eventObject) )


---


# Event propagering

.js
    .on( events [, selector ] [, data ], handler(eventObject) )

<br />



.js
    $button.on("click", function(event) {
        console.log("je klikke!")
    });

---


# Event propagering

.js
    .on( events [, selector ] [, data ], handler(eventObject) )

<br />



.js
    $button.on("click", function(event) {
        console.log("je klikke!")
    });

<br />



.js
    $button.on("click", function(event) {
        this // DOM-elementet som trigget eventen

        $(this) // wrap DOM-elementet med jquery for å få et jquyer objekt
    });

---


.center

# Event propagering

<table class="table-center">
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
    <tr>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
        <td><button>Knapp</button></td>
    </tr>
</table>

100 knapper = 100 event bindinger

---

.middle.center

![event propagation](img/eventpropagation.png)

---

# Event propagering

.js
    .on( events [, selector ] [, data ], handler(eventObject) )

<br />


.js
    $("table").on("click", "button", function(event) {
        console.log("je klikke!")
    });

---
.middle.center
# Event objekt

.javascript.event
    $button.on("click", function(event) {});

---

# Event objekt

.js
    $button.on("click", function(event) {
        event.preventDefault();
        // forhindrer standard nettleser oppførsel
    });


---

# Event objekt


.js
    $button.on("click", function(event) {
        event.preventDefault();
        // forhindrer standard nettleser oppførsel
    });

<br />


.js
    $button.on("click", function(event) {
        event.stopPropagation();
        // stopper event boblingen
    });

---
# Event objekt

.js
    $button.on("click", {spennende: "ting"}, function(event) {
        // data som sendes inn til callback funksjonen kan hentes gjennom event.data
        event.data.spennende; // "ting"
    });

---

# Event objekt

.js
    $button.on("click", {spennende: "ting"}, function(event) {
        // data som sendes inn til callback funksjonen kan hentes gjennom event.data
        event.data.spennende; // "ting"
    });

<br />


.js
    $button.on("click", {spennende: "ting"}, function(event) {
        // få tak i dom elementet som trigget eventen gjennom event.currentTarget
        var $element = $(event.currentTarget);

        // samme objektet som this (context)
        var $element = $(this);
    });


---
.middle.center

# timing
![Timing cat](img/catswingtail.gif)

---
.middle.center

    <a id="setTimeoutAlert">SnozzzzzZZZzz i 2 sekunder</a>

![Tired cat](img/Im_So_Tired_Cat.jpg)


---

# timing

.js
    $button.on("click", function(event) {

        setTimeout(function() {
            alert("det har gått 2sekunder!")
        }, 2000);
    });

---

# timing

.js
    var timeoutID;
    $button.on("click", function(event) {

        timeoutID = setTimeout(function() {
            alert("4sec!")
        }, 2000);

    });

    $abortButton.on("click", function(event) {
        clearTimeout(timeoutID);
    });




<br />


.html
    <a id="setTimeoutAlert">2sec timout</a>
    <a id="clearTimeoutAlert">clear timeout</a>


---
.middle.center    
    <a id="demo2setTimeoutAlert">2sec timout</a><br />
    <a id="demo2clearTimeoutAlert">clear timeout</a>

---

# Siste oppgave

&nbsp;

##Eventer

1. Vise stor versjon av bilde ved klikk
2. Legg til et søkefelt for å velge tag
3. Oppdatere søketag på ved skriving in søkefeltet (hint: keyup-event)

##Attributter

1. Hente ut title-attributt fra bildet å vise denne som en bildetittel


[Løsningsforslag](../losning/index.html)


---
.middle.center.fullimage
![Screenshot løsningsforslag](img/losningsforslag.png)

    </textarea>
    <div id="slideshow"></div>
  </body>
</html>
